!function(e,t){"use strict";var a="undefined"!=typeof module;a&&(e=global);var o="0123456789abcdef".split(""),n=[-2147483648,8388608,32768,128],r=[24,16,8,0],i=[],s=function(e){var t="string"!=typeof e;t&&e.constructor==ArrayBuffer&&(e=new Uint8Array(e));var a,s,l,c,d,u,g,v,h,f,m=0,p=!1,$=0,w=0,y=0,b=e.length;a=1732584193,s=4023233417,l=2562383102,c=271733878,d=3285377520;do{if(i[0]=m,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0,t)for(h=w;$<b&&h<64;++$)i[h>>2]|=e[$]<<r[3&h++];else for(h=w;$<b&&h<64;++$)u=e.charCodeAt($),u<128?i[h>>2]|=u<<r[3&h++]:u<2048?(i[h>>2]|=(192|u>>6)<<r[3&h++],i[h>>2]|=(128|63&u)<<r[3&h++]):u<55296||u>=57344?(i[h>>2]|=(224|u>>12)<<r[3&h++],i[h>>2]|=(128|u>>6&63)<<r[3&h++],i[h>>2]|=(128|63&u)<<r[3&h++]):(u=65536+((1023&u)<<10|1023&e.charCodeAt(++$)),i[h>>2]|=(240|u>>18)<<r[3&h++],i[h>>2]|=(128|u>>12&63)<<r[3&h++],i[h>>2]|=(128|u>>6&63)<<r[3&h++],i[h>>2]|=(128|63&u)<<r[3&h++]);for(y+=h-w,w=h-64,$==b&&(i[h>>2]|=n[3&h],++$),m=i[16],$>b&&h<56&&(i[15]=y<<3,p=!0),f=16;f<80;++f)g=i[f-3]^i[f-8]^i[f-14]^i[f-16],i[f]=g<<1|g>>>31;var D=a,_=s,T=l,x=c,S=d;for(f=0;f<20;f+=5)v=_&T|~_&x,g=D<<5|D>>>27,S=g+v+S+1518500249+i[f]<<0,_=_<<30|_>>>2,v=D&_|~D&T,g=S<<5|S>>>27,x=g+v+x+1518500249+i[f+1]<<0,D=D<<30|D>>>2,v=S&D|~S&_,g=x<<5|x>>>27,T=g+v+T+1518500249+i[f+2]<<0,S=S<<30|S>>>2,v=x&S|~x&D,g=T<<5|T>>>27,_=g+v+_+1518500249+i[f+3]<<0,x=x<<30|x>>>2,v=T&x|~T&S,g=_<<5|_>>>27,D=g+v+D+1518500249+i[f+4]<<0,T=T<<30|T>>>2;for(;f<40;f+=5)v=_^T^x,g=D<<5|D>>>27,S=g+v+S+1859775393+i[f]<<0,_=_<<30|_>>>2,v=D^_^T,g=S<<5|S>>>27,x=g+v+x+1859775393+i[f+1]<<0,D=D<<30|D>>>2,v=S^D^_,g=x<<5|x>>>27,T=g+v+T+1859775393+i[f+2]<<0,S=S<<30|S>>>2,v=x^S^D,g=T<<5|T>>>27,_=g+v+_+1859775393+i[f+3]<<0,x=x<<30|x>>>2,v=T^x^S,g=_<<5|_>>>27,D=g+v+D+1859775393+i[f+4]<<0,T=T<<30|T>>>2;for(;f<60;f+=5)v=_&T|_&x|T&x,g=D<<5|D>>>27,S=g+v+S-1894007588+i[f]<<0,_=_<<30|_>>>2,v=D&_|D&T|_&T,g=S<<5|S>>>27,x=g+v+x-1894007588+i[f+1]<<0,D=D<<30|D>>>2,v=S&D|S&_|D&_,g=x<<5|x>>>27,T=g+v+T-1894007588+i[f+2]<<0,S=S<<30|S>>>2,v=x&S|x&D|S&D,g=T<<5|T>>>27,_=g+v+_-1894007588+i[f+3]<<0,x=x<<30|x>>>2,v=T&x|T&S|x&S,g=_<<5|_>>>27,D=g+v+D-1894007588+i[f+4]<<0,T=T<<30|T>>>2;for(;f<80;f+=5)v=_^T^x,g=D<<5|D>>>27,S=g+v+S-899497514+i[f]<<0,_=_<<30|_>>>2,v=D^_^T,g=S<<5|S>>>27,x=g+v+x-899497514+i[f+1]<<0,D=D<<30|D>>>2,v=S^D^_,g=x<<5|x>>>27,T=g+v+T-899497514+i[f+2]<<0,S=S<<30|S>>>2,v=x^S^D,g=T<<5|T>>>27,_=g+v+_-899497514+i[f+3]<<0,x=x<<30|x>>>2,v=T^x^S,g=_<<5|_>>>27,D=g+v+D-899497514+i[f+4]<<0,T=T<<30|T>>>2;a=a+D<<0,s=s+_<<0,l=l+T<<0,c=c+x<<0,d=d+S<<0}while(!p);return o[a>>28&15]+o[a>>24&15]+o[a>>20&15]+o[a>>16&15]+o[a>>12&15]+o[a>>8&15]+o[a>>4&15]+o[15&a]+o[s>>28&15]+o[s>>24&15]+o[s>>20&15]+o[s>>16&15]+o[s>>12&15]+o[s>>8&15]+o[s>>4&15]+o[15&s]+o[l>>28&15]+o[l>>24&15]+o[l>>20&15]+o[l>>16&15]+o[l>>12&15]+o[l>>8&15]+o[l>>4&15]+o[15&l]+o[c>>28&15]+o[c>>24&15]+o[c>>20&15]+o[c>>16&15]+o[c>>12&15]+o[c>>8&15]+o[c>>4&15]+o[15&c]+o[d>>28&15]+o[d>>24&15]+o[d>>20&15]+o[d>>16&15]+o[d>>12&15]+o[d>>8&15]+o[d>>4&15]+o[15&d]};if(e.JS_SHA1_TEST||"undefined"==typeof module)e&&(e.sha1=s);else{var l=require("crypto"),c=require("buffer").Buffer;module.exports=function(e){return"string"==typeof e?l.createHash("sha1").update(e,"utf8").digest("hex"):(e.constructor==ArrayBuffer&&(e=new Uint8Array(e)),l.createHash("sha1").update(new c(e)).digest("hex"))}}}(this),$(document).ready(function(){$("#save_general_settings").click(function(){var e=$("#general-settings-form").serialize();return console.log("voy a guardar"),console.log(e),$.ajax({url:app_url+"settings/settings/saveGeneralAjax",type:"POST",data:e,dataType:"json",success:function(e){console.log(e),e.error===!0?showErrorMessage("#setting-error-msg",e.msg,5e3):showSuccessMessage("#setting-positive-msg",e.msg,1e3)},error:function(e,t){console.log("Request: "+JSON.stringify(e)),console.log("Error: "+JSON.stringify(t))}}),!1})});var protocol=window.location.protocol,host=window.location.host,path=window.location.pathname,base=protocol+"//"+host,app_name=window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")),app_url=base+app_name+"/",base_url=protocol+"//"+host+path;$(document).ready(function(){function e(e,t,a){$(e).html('<div class="ui negative message"><i class="close icon"></i><div class="header">Error!</div><p>'+t+"</p></div>"),$(e).show(1e3).delay(a).fadeOut()}function t(e,t,a){$(e).html('<div class="ui success message"><i class="close icon"></i><div class="header">Éxito!</div><p>'+t+"</p></div>"),$(e).show(1e3).delay(a).fadeOut()}function a(e){for(var t,a,o,n,r,i,s="",l=e.length,c="",d=0;d<l;d++)t=moment(e[d].x_timestamp),a=t.unix(),o=t.format("DD/MM/YYYY hh:mm:ss A"),n=e[d].x_fname?e[d].x_fname:" ",r=e[d].x_lname?e[d].x_lname:" ",i=n+" "+r,c=35===e[d].x_hist_type?"<div class='ui red label'>Acceso Denegado</div>":33===e[d].x_hist_type?"<div class='ui green label'>Tarjeta Inválida</div>":37===e[d].x_hist_type?"<div class='ui orange label'>Fuera de Horario</div>":"<div class='ui green label'>Puerta Abierta</div>",s+="<tr>",s+="<td>"+e[d].x_term_name+"</td>",s+="<td>"+i+"</td>",s+="<td>"+c+"</td>",s+='<td data-order="'+a+'">'+o+"</td>",s+="</tr>";return s}function o(e){for(var t,a,o,n,r,i,s="",l=e.length,c=0;c<l;c++)t=moment(e[c].c_s_timestamp),a=t.unix(),o=t.format("DD/MM/YYYY"),n=e[c].c_fname,r=e[c].c_lname,i=e[c].dept_name,null===i&&(i="Sin asignar"),s+="<tr>",s+="<td>"+n+"</td>",s+="<td>"+r+"</td>",s+="<td>"+i+"</td>",s+='<td data-order="'+a+'">'+o+"</td>",s+="</tr>";return s}function n(e){if(s(e)){var t=e.DataTable({order:[[3,"desc"]],language:{url:"extras/SpanishDatatable.json"}});return t}return!1}function r(e,t){if(s(e)){var a=e.DataTable({order:t,language:{url:"extras/SpanishDatatable.json"}});return a}return!1}function i(e){e.destroy()}function s(e){return e.length>0}function l(e,t){return i(t),n(e)}function c(e){$.ajax({url:app_url+"settings/settings/getGeneralUpdateTimeAjax",type:"POST",dataType:"json",async:!1,success:function(t){e(t.time)},error:function(t,a){e(30)}})}function d(){$.ajax({url:app_url+"main/main/getLastActionsAJAX",type:"POST",dataType:"json",success:function(e){if(e.error===!1){i(v);var t=a(e.events);$("#lastDoorMov-body").html(t),v=n(g)}},error:function(e,t){console.log("Request: "+JSON.stringify(e)),console.log("Error: "+JSON.stringify(t))}})}window.showErrorMessage=e,window.showSuccessMessage=t,window.createDoorsEventsResultBody=a,window.createPermissionTableBody=o,window.createDataTable=n,window.createCallsDataTable=r,window.destroyDataTable=i,window.reinitialiseDataTable=l,window.getGeneralUpdateTime=c;var u=3e4;c(function(e){u=1e3*e});var g=$("#lastDoorMov"),v=n(g);$("#lastDoorMov").length>0&&setInterval(d,u),$("#upScrollToTop").length>0&&($(window).scroll(function(){$(this).scrollTop()>100?($("#upScrollToTop").fadeIn(),$("#upScrollToDown").fadeOut()):($("#upScrollToTop").fadeOut(),$("#upScrollToDown").fadeIn())}),$("#upScrollToTop").click(function(){return $("html, body").animate({scrollTop:0},800),!1}),$("#upScrollToDown").click(function(){return $("html, body").animate({scrollTop:$(document).height()-$(window).height()},800),!1}))}),$(document).ready(function(){$(".ui.dropdown").dropdown(),$(".ui.checkbox").checkbox(),$(".ui.tabular.menu.settings .item").tab(),$(".start-date").calendar({formatter:{date:function(e,t){if(!e)return"";var a=e.getDate(),o=e.getMonth()+1,n=e.getFullYear();return a+"-"+o+"-"+n}},type:"date"}),$(".start-time").calendar({ampm:!1,type:"time"}),$(".end-date").calendar({monthFirst:!1,formatter:{date:function(e,t){if(!e)return"";var a=e.getDate(),o=e.getMonth()+1,n=e.getFullYear();return a+"-"+o+"-"+n}},type:"date"}),$(".end-time").calendar({ampm:!1,type:"time"}),$("#calendar").fullCalendar({locale:"es",contentHeight:700,aspectRatio:2,googleCalendarApiKey:"AIzaSyDrzlzwx-cXpWGkvdTA9A4Y_RCAlr7yMe0",eventSources:[{googleCalendarId:"hotelplazameru.com_7vjklt6bgoahjqcdjj46dkr97k@group.calendar.google.com",className:"single-event"},{googleCalendarId:"es.ve#holiday@group.v.calendar.google.com",className:"ve-holidays"},{googleCalendarId:"es.christian#holiday@group.v.calendar.google.com",className:"christian-holidays"},{googleCalendarId:"hotelplazameru.com_73u3a4jbirr6eh6b4nvlve7sro@group.calendar.google.com",className:"christian-holidays"},{googleCalendarId:"hotelplazameru.com_fp4rlsjstr7casv20044pabd6k@group.calendar.google.com",className:"event-birthday"},{googleCalendarId:"hotelplazameru.com_cuqdhkssdm7e8u02ccnmun6vf0@group.calendar.google.com",className:"event-wedding"},{googleCalendarId:"hotelplazameru.com_vpv203etpdor4n9mu8po5o6lto@group.calendar.google.com",className:"event-executive"}],eventClick:function(e,t,a){if(t.preventDefault(),showEventDetailsModal(e),e.url)return!1}}),$("#calendar-segment").vegas({slides:[{src:"dist/images/banner.jpg"},{src:"dist/images/hotels-desktop.jpg"},{src:"dist/images/restaurant.jpg"},{src:"dist/images/town.jpg"}],overlay:"bower_components/vegas/dist/overlays/06.png"})}),$(document).ready(function(){function e(e){var t="https://maps.google.com/maps?hl=es&q=";if("undefined"!=typeof e.title?$("#eventTitle").html(e.title):$("#eventTitle").html("Evento sin título"),"undefined"!=typeof e.description?($("#descriptionContent").html(e.description),$("#eventDescription").show()):$("#eventDescription").hide(),"undefined"!=typeof e.location){var a=e.location.replace(/ /g,"+"),o=t+a,n="<a href='"+o+"' target='_blank'>(Ver mapa)</a>";$("#locationContent").html(e.location+" "+n),$("#eventLocation").show()}else $("#eventLocation").hide();var r=moment.duration(e.end.diff(e.start)),i=r.asHours();return 24===i?($("#singleDate").html(e.start.format("DD/MM/YYYY")),$("#eventDate").show(),$("#eventDurationStart").hide(),$("#eventDurationEnd").hide()):($("#eventDate").hide(),$("#startDate").html(e.start.format("DD/MM/YYYY hh:mm A")),$("#endDate").html(e.end.format("DD/MM/YYYY hh:mm A")),$("#eventDurationStart").show(),$("#eventDurationEnd").show()),$(".ui.modal").modal({blurring:!0}).modal("setting","transition","vertical flip").modal("show"),!1}window.showEventDetailsModal=e;var t=!0;$(".button.single-event").click(function(){t?($(".fc-event.single-event").hide(),t=!1):($(".fc-event.single-event").show(),t=!0)});var a=!0;$(".button.ve-holidays").click(function(){a?($(".fc-event.ve-holidays").hide(),a=!1):($(".fc-event.ve-holidays").show(),a=!0)});var o=!0;$(".button.christian-holidays").click(function(){o?($(".fc-event.christian-holidays").hide(),o=!1):($(".fc-event.christian-holidays").show(),o=!0)});var n=!0;$(".button.event-birthday").click(function(){n?($(".fc-event.event-birthday").hide(),n=!1):($(".fc-event.event-birthday").show(),n=!0)});var r=!0;$(".button.event-wedding").click(function(){r?($(".fc-event.event-wedding").hide(),r=!1):($(".fc-event.event-wedding").show(),r=!0)});var i=!0;$(".button.event-executive").click(function(){i?($(".fc-event.event-executive").hide(),i=!1):($(".fc-event.event-executive").show(),i=!0)});var s=!0;$(".button.event-bank").click(function(){s?($(".fc-event.event-bank").hide(),s=!1):($(".fc-event.event-bank").show(),s=!0)})});
//# sourceMappingURL=main.js.map
